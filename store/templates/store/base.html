<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {% load static %}
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <!-- Font Awesome CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{% static 'css/style.css' %}" type="text/css">

    {% block stylesheets %}{% endblock stylesheets %}

    <title>IMS: {% block title %}Dashboard{% endblock title %}</title>

    <!-- Favicon -->
    <link rel="icon" href="{% static 'images/logo/favicon.png' %}" type="image/png">

</head>
<body>
    {% include "store/sidebar.html" %}

    <div id="wrapper">
        <!-- Optional: Add a simple top navbar if needed for toggles or breadcrumbs -->
        <nav class="navbar navbar-expand-md fixed-top">
            <div class="container-fluid">
                <!-- Sidebar Toggle Button (visible on small screens) -->
                <button class="btn btn-primary d-md-none me-2" type="button" id="sidebarToggleBtn">
                    <i class="fas fa-bars"></i>
                </button>

                <!-- Page Title or Breadcrumbs -->
                <span class="navbar-text">
                    {% block page_title %}{% endblock page_title %}
                </span>

                <!-- Optional Navbar items -->
                <ul class="navbar-nav ms-auto">
                    <!-- Example: User profile link -->
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'user-profile' %}" title="Profile">
                            <i class="fas fa-user"></i>
                        </a>
                    </li>
                </ul>
            </div>
        </nav>

        <main class="main-content">
            {% block content %}
            <!-- Default content if block is empty -->
            <div class="container-fluid">
                <h2>Welcome to the Inventory Management System</h2>
                <p>Select an option from the sidebar to get started.</p>
            </div>
            {% endblock content %}
        </main>

        <!-- Optional Footer -->
        <footer class="footer mt-auto py-3 bg-light border-top">
            <div class="container-fluid text-center">
                <span class="text-muted">Inventory Management System &copy; 2025</span>
            </div>
        </footer>

    </div><!-- /#wrapper -->

    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <!-- jQuery (optional, if needed by other scripts) -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>

    <script>
        // Sidebar Toggle Logic for small screens
        const sidebar = document.getElementById('sidebar');
        const wrapper = document.getElementById('wrapper');
        const sidebarToggleBtn = document.getElementById('sidebarToggleBtn');

        if (sidebarToggleBtn) {
            sidebarToggleBtn.addEventListener('click', () => {
                sidebar.classList.toggle('active'); // Assumes your CSS handles .sidebar.active
                // Optional: Add a class to wrapper to push content when sidebar is open on mobile
                // wrapper.classList.toggle('sidebar-active-mobile');
            });
        }

        // Apply dark mode on initial load (logic moved to sidebar.html)
        // Ensure dark mode class is applied to body tag correctly
        document.addEventListener('DOMContentLoaded', () => {
            if (localStorage.getItem('darkMode') === 'enabled') {
                document.body.classList.add('dark-mode');
            }
        });

    </script>

    {% block javascripts %}{% endblock javascripts %}

</body>
</html>

